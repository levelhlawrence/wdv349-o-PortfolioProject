import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { useParams } from "react-router-dom";
import { useEffect, useState } from "react";
import { useApi } from "../ApiContext";
import { Button } from "../ui/button";
const FleetDetails = () => {
    const [edit, setEdit] = useState(false);
    const { id } = useParams();
    const { getVehicleById, vehicleDetails } = useApi();
    const editHandler = () => setEdit(!edit);
    const displayValue = (value, fallback = "N/A") => {
        if (!value || value === "NULL")
            return fallback;
        return value;
    };
    useEffect(() => {
        if (id)
            getVehicleById(id);
    }, [id, getVehicleById]);
    if (!vehicleDetails)
        return _jsx("p", { className: "pt-4 md:ml-64", children: "Loading..." });
    return (_jsxs("section", { className: "grid grid-cols-1 gap-2 pt-4 md:ml-64 z-10 max-h-screen overflow-scroll", children: [_jsx("div", { className: "px-6", children: _jsx(Button, { onClick: editHandler, children: edit ? "Close" : "Edit" }) }), edit && (_jsxs("div", { className: "text-sm flex gap-2 px-6", children: [_jsx(Button, { variant: "secondary", children: "Update" }), _jsx(Button, { variant: "destructive", children: "Delete" })] })), _jsxs("div", { className: "flex justify-between items-center px-6 py-2", children: [_jsxs("h1", { className: "text-2xl font-bold", children: [displayValue(vehicleDetails.vehicle_class), ":", " ", _jsx("span", { className: "font-normal", children: displayValue(vehicleDetails.bus_no) })] }), _jsxs("p", { className: "flex items-center text-xl", children: ["VIN: ", displayValue(vehicleDetails.vin_number)] })] }), _jsxs("div", { className: "bg-gray-700 text-white px-6 pt-4 pb-40", children: [_jsxs("div", { className: "flex justify-between border-b leading-10", children: [_jsxs("p", { children: [_jsx("strong", { children: "Make:" }), " ", _jsx("span", { className: "border rounded p-1", children: displayValue(vehicleDetails.body_make) })] }), _jsxs("p", { children: [_jsx("strong", { children: "Model:" }), " ", displayValue(vehicleDetails.body_model)] })] }), _jsxs("div", { className: "flex justify-between border-b mt-2 leading-10", children: [_jsxs("p", { children: [_jsx("strong", { children: "Body Number:" }), " ", displayValue(vehicleDetails.body_no)] }), _jsxs("p", { children: [_jsx("strong", { children: "Year:" }), " ", parseInt(vehicleDetails.body_year) || "N/A"] })] }), _jsxs("div", { className: "flex justify-between border-b mt-2 leading-10", children: [_jsxs("p", { children: [_jsx("strong", { children: "Status:" }), " ", displayValue(vehicleDetails.status)] }), _jsxs("p", { children: [_jsx("strong", { children: "Tag Number:" }), " ", displayValue(vehicleDetails.tag_no)] })] }), _jsxs("div", { className: "flex justify-between border-b mt-2 leading-10", children: [_jsxs("p", { children: [_jsx("strong", { children: "Bus Driver:" }), " ", displayValue(vehicleDetails.bus_driver)] }), _jsxs("p", { children: [_jsx("strong", { children: "Chassis No:" }), " ", displayValue(vehicleDetails.chassis_no)] })] }), _jsxs("div", { className: "flex justify-between border-b mt-2 leading-10", children: [_jsxs("p", { children: [_jsx("strong", { children: "Chassis Year:" }), " ", parseInt(vehicleDetails.chassis_year) || "N/A"] }), _jsxs("p", { children: [_jsx("strong", { children: "Current Mileage:" }), " ", displayValue(vehicleDetails.current_mileage)] })] }), _jsxs("div", { className: "flex justify-between border-b mt-2 leading-10", children: [_jsxs("p", { children: [_jsx("strong", { children: "Engine:" }), " ", `${displayValue(vehicleDetails.eng_manuf)} ${displayValue(vehicleDetails.eng_model)} (${displayValue(vehicleDetails.eng_type)})`] }), _jsxs("p", { children: [_jsx("strong", { children: "Engine Serial No:" }), " ", displayValue(vehicleDetails.eng_serial_no)] })] }), _jsxs("div", { className: "flex justify-between border-b mt-2 leading-10", children: [_jsxs("p", { children: [_jsx("strong", { children: "Transmission:" }), " ", `${displayValue(vehicleDetails.trans_manuf)} ${displayValue(vehicleDetails.trans_model)}`] }), _jsxs("p", { children: [_jsx("strong", { children: "Transmission Serial No:" }), " ", displayValue(vehicleDetails.trans_serial_no)] })] }), _jsxs("div", { className: "flex justify-between border-b mt-2 leading-10", children: [_jsxs("p", { children: [_jsx("strong", { children: "Fuel Type:" }), " ", displayValue(vehicleDetails.fuel_type)] }), _jsxs("p", { children: [_jsx("strong", { children: "Fuel Capacity:" }), " ", displayValue(vehicleDetails.fuel_gal), " gal"] })] }), _jsxs("div", { className: "flex justify-between border-b mt-2 leading-10", children: [_jsxs("p", { children: [_jsx("strong", { children: "YTD Fuel:" }), " ", displayValue(vehicleDetails.ytd_fuel)] }), _jsxs("p", { children: [_jsx("strong", { children: "Seating Capacity:" }), " ", displayValue(vehicleDetails.cap)] })] }), _jsxs("div", { className: "flex justify-between border-b mt-2 leading-10", children: [_jsxs("p", { children: [_jsx("strong", { children: "Gross Weight:" }), " ", displayValue(vehicleDetails.gross_weight), " lbs"] }), _jsxs("p", { children: [_jsx("strong", { children: "GVW Front:" }), " ", displayValue(vehicleDetails.gvw_front)] })] }), _jsxs("div", { className: "flex justify-between border-b mt-2 leading-10", children: [_jsxs("p", { children: [_jsx("strong", { children: "GVW Rear:" }), " ", displayValue(vehicleDetails.gvw_rear)] }), _jsxs("p", { children: [_jsx("strong", { children: "Wheelbase:" }), " ", displayValue(vehicleDetails.wheel_base)] })] }), _jsxs("div", { className: "flex justify-between border-b mt-2 leading-10", children: [_jsxs("p", { children: [_jsx("strong", { children: "Wheelchair Equipped:" }), " ", displayValue(vehicleDetails.wheel_chair)] }), _jsxs("p", { children: [_jsx("strong", { children: "Tire Size:" }), " ", displayValue(vehicleDetails.tire_size)] })] }), _jsxs("div", { className: "flex justify-between border-b mt-2 leading-10", children: [_jsxs("p", { children: [_jsx("strong", { children: "Assigned Shop:" }), " ", displayValue(vehicleDetails.assigned_shop)] }), _jsxs("p", { children: [_jsx("strong", { children: "Inspection Group:" }), " ", displayValue(vehicleDetails.insp_group)] })] }), _jsxs("div", { className: "flex justify-between border-b mt-2 leading-10", children: [_jsxs("p", { children: [_jsx("strong", { children: "In Service Date:" }), " ", displayValue(vehicleDetails.inservice_date)] }), _jsxs("p", { children: [_jsx("strong", { children: "Status Date:" }), " ", displayValue(vehicleDetails.status_date)] })] }), _jsxs("div", { className: "flex justify-between border-b mt-2 leading-10", children: [_jsxs("p", { children: [_jsx("strong", { children: "Schedule Begin Mileage:" }), " ", displayValue(vehicleDetails.sch_begin_mileage)] }), _jsxs("p", { children: [_jsx("strong", { children: "Last Fuel Mileage:" }), " ", displayValue(vehicleDetails.last_fuel_mileage)] })] }), _jsxs("div", { className: "flex justify-between border-b mt-2 leading-10", children: [_jsxs("p", { children: [_jsx("strong", { children: "Last In Shop:" }), " ", displayValue(vehicleDetails.last_in_shop)] }), _jsxs("p", { children: [_jsx("strong", { children: "Last Oil Change:" }), " ", displayValue(vehicleDetails.last_oil_change)] })] })] })] }));
};
export default FleetDetails;
